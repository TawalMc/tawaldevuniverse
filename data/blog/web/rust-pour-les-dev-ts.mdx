---
title: '[system] - Rust pour les devs TypeScript: Part 1'
date: '2022-06-10'
tags: ['web', 'typescript', 'rust']
draft: false
summary: 'D√©couvrons Rust du point de vue dev TypeScript.'
images: ['/static/images/rust-ts.png']
version: 'fr'
---

![rust-lang logo](/static/images/rust-ts.png)

D√©couvrons Rust du point de vue dev TypeScript.

## C'est quoi Rust ?

Rust est un langage de programmation orient√© syst√®me. C'est un langage √† typage static (fort) un peu comme
le C++. Il a √©t√© cr√©√© √† la Mozilla Research avec pour objectifs entre autres :

- de r√©gler efficacement les probl√®mes de gestion de m√©moire rencontr√©s avec le C/C++ par exemple;
  o√π les questions de `memory overflow` (d√©bordement de m√©moire allou√©e) ou `dangling reference`
  (r√©f√©rence sur un objet qui n'existe plus) sont monnaies courantes et ceci en aidant le d√©veloppeur

- d'am√©liorer les performances dans l'ex√©cution de code (Rust est connu pour sa rapidit√© incroyable)

-...

En gros des caract√©ristiques similaires au C/C++ mais avec plus de `s√©curit√©`, `performance(similaires)`, des
supports pour les syst√®mes embarqu√©s, le websasembly.

Je viens de citer des points qui m'interessent particuli√®rement. Vous pouvez vous rendre sur

- le site de [rust-lang](https://www.rust-lang.org/) pour en savoir un peu plus sur le langage

- la page des entreprises qui utilisent d√©j√† Rust en production [ici](https://www.rust-lang.org/production/users)
  pour avoir une id√©e du comment et du pourquoi de l'utilisation par ces derni√®res.

Revenons √† notre sujet: "Rust pour les devs TS"

## Rust et TypeScript

Je trouve des ressemblances entre Rust et TypeScript (JavaScript avec du typage statique).

### Gestionnaire de packages

Il dispose de [crates.io](https://crates.io/), le d√©p√¥t officiel des packages Rust un peu comme [npmjs.com](https://www.npmjs.com/).

A l'instar de `npm` disponible dans l'environnement `node`, Rust dispose aussi d'un gestionnaire de packages: `cargo`.

Ainsi on peut:

- Initialiser un projet

```rust
cargo new project_name // Pour cr√©er un nouveau projet et l'initialiser
```

- Build un projet

```rust
cd project_name // Se rendre dans le r√©pertoire du projet
cargo build 		// Compiler le projet, si c'est un d√©pot GitHub il installe les d√©pendances et compile
```

- Ex√©cuter un projet

```rust
cd project_name // Se rendre dans le r√©pertoire du projet
cargo run 		// Ex√©cuter le projet
```

Cargo vient avec beaucoup plus d'options.

`NB`:

- Cargo pour de simples projets, n'est pas trop `utile` parce qu'√† la configruation de Rust sur votre machine, vous
  avez le compilateur `rustc` qui permet de build et run un projet. Dison que `rustc` c'est le `gcc/g++` en C/C++ et
  cargo le `cmake` (j'ai pas trouv√© une meilleure analogie).

- On parle de `crate` pour d√©signer un programme qui peut √™tre une biblioth√®que ou un ex√©cutable d'o√π les crates sont h√©berg√©s sur crates.io

- `Package` d√©signe un ensemble de crates avec des fonctionnalit√©s pour build et run ces derniers.

### Types des donn√©es en Rust

Rust supporte les types primitifs suivants

- les entiers: `i8` (8-bit ou prend 8 bits d'espace m√©moire), `i16`(16-bit), `i32`, `i64`, `i128`, `isize` et leurs versions non-sign√©es (`u8`, `u16`, ...)

- les nombres d√©cimaux (qui sont sign√©s): `f32`, `f64`

_En TS ces deux cat√©gories sont repr√©sent√©es par le type `number`._

- les caract√®res: `char`, un peu comme: 'üòé', 's', 'A'

Ensuite nous avons les collections

- `tuple` qui repr√©sente une collection d'un nombre connu donn√©es de diff√©rents types: `(i32, f64, u25)` apr exemple

- les tableaux ou array qui sont de tailles fixex contrairement √† ce qu'on peut voir en TS.

Il ya aussi les types un peu plus avanc√©s comme `String`, les slices (nous reviendrons dans de futurs articles la-dessus).
Et enfin nous avons quelques structures de donn√©es comme les vecteurs `Vect<T>`, les map `HashMap`...

### Variables en Rust

Pour cr√©er une variable dans Rust

```rust
fun main() {
	let age: i8 = 15;
	let emoji = 'üòí';
}
```

`NB`: Tout comme en C++, en Rust il faut une fonction d'entr√©e pour un ex√©cutable, ici **fun main(){ }**.

Et oui. Pour cr√©er une variable en Rust, on utilise aussi le mot cl√© `let` un peu comme en JS.

Je vais crier fort pour √©voquer une particularit√© des variables en Rust: **LES VARIABLES DANS RUST A LA CREATION SONT IMMUTABLES**.
En d'autres une op√©ration comme celle ci:

```rust
fun main() {
	let age = 15; // le compilateur de Rust fera une inf√©rence (d√©duction) de type ici
	age = 25; // Une erreur pure et simplement
}
```

ne marchera pas. Pour pouvoir modifier une variable il faut la cr√©er en tant que `mutable`, d'o√π la notion de
`mutability` qui revient souvent quand on lit un doc Rust. Ainsi il faudra faire:

```rust
let mut age = 15; // ceci la valeur de la variable age √©ditable
age = 25;
```

En fait cette notion de `mutability` ouvre la porte √† trois concepts phares, cl√©s, primordiaux, importants, n√©cessaires,
(et puis quoi encore) en Rust. Ils se rejoignent et sont ins√©parables:

- `Ownership`: la propri√©t√©, le droit d'acc√®s

- `R√©f√©rence`: une sorte `pointeur`/variable qui repr√©sente l'adresse de la donn√©e stock√©e

- `Borrowing`: l'emprunt/le passage d'une r√©f√©rence.

Je disais plus haut que Rust est memory-safety c'est √† dire qu'en terme de gestion de m√©moires, il garantit la s√©curit√© dans la manipulation de la m√©moire.
Bien c'est en fait √† cause de ces trois concepts qui sont d√©finis avec des r√®gles bien pr√©cises. (Dans nos futures articles nous allons abord√©s)
ces notions en profondeur).

### Terminons avec les fonctions en Rust

```rust
fun nom_de_la_fonction() {
	// corps
}

fun une_autre_fonction(age: u8, annee_courante: u64) -> u64 {
	return annee_courante - age;
}

// ou simplement
fun une_autre_fonction(age: u8, annee_courante: u64) -> u64 {
	annee_courante - age // retournera le r√©sultat du calcul
}
```

Une particularit√© avec les fonctions de Rust, il n'y a pas de valeur par d√©faut.

### En gros

Nous avons juste abord√© quelques concpets de base de Rust qui ressemblent un peu √† du TypeScript,
prochainement nous en aborderons d'autres .

_Aussi, il y a un truc que j'ai remarqu√© avec Rust et que je ne comprends pas encore: chaque concept, notion, fonctionnalit√© a une particularit√© **bizarre**. Bah oui, tu cr√©e une **variable** mais √† la base elle est **immutable**, une variable je te dis._

I'm sharing a few tips I use in my daily tasks and I hope you have others that you want to share with us. I'm open to tips, and my social accounts (below) are there for that.

_So can you smell what TawalMc is cooking?_
